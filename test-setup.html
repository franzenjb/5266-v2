<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Setup - Form 5266</title>
    <style>
        body {
            font-family: 'Open Sans', sans-serif;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        button {
            background-color: #ED1B2E;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 10px 5px;
        }
        button:hover {
            background-color: #B51E2B;
        }
        .info {
            background-color: #f0f0f0;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }
        pre {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>Form 5266 Test Setup</h1>
    
    <div class="info">
        <h2>Quick Setup Options</h2>
        <p>Use these buttons to quickly set up test data in your browser:</p>
    </div>

    <button onclick="setupFloridaOperation()">Setup Florida Operation</button>
    <button onclick="setupArizonaOperation()">Setup Arizona/New Mexico Operation</button>
    <button onclick="clearAllData()">Clear All Data</button>
    <button onclick="showCurrentData()">Show Current Data</button>
    
    <div id="output"></div>

    <script src="redcross_data.js"></script>
    <script>
        function setupFloridaOperation() {
            const operationData = {
                drNumber: "DR-2024-FL-001",
                operationName: "Hurricane Response - Florida",
                startDate: "2024-01-15",
                region: "Central Florida & USVI Region",
                counties: ["Orange", "Osceola", "Seminole", "Lake", "Volusia"],
                chapters: ["ARC of Central Florida", "ARC of Mid Florida"],
                timestamp: new Date().toISOString()
            };
            
            const contacts = [
                {
                    role: "DRO Director",
                    name: "John Smith",
                    phone: "(407) 555-0100",
                    email: "john.smith@redcross.org",
                    id: Date.now()
                },
                {
                    role: "Operations Chief",
                    name: "Jane Doe",
                    phone: "(407) 555-0101",
                    email: "jane.doe@redcross.org",
                    id: Date.now() + 1
                }
            ];
            
            const feedingData = [
                {
                    date: "2024-01-15",
                    location: "Orlando Convention Center",
                    meals: 1500,
                    snacks: 2000,
                    notes: "Initial setup",
                    timestamp: new Date().toISOString()
                },
                {
                    date: "2024-01-16",
                    location: "Orlando Convention Center",
                    meals: 2500,
                    snacks: 3500,
                    notes: "Increased capacity",
                    timestamp: new Date().toISOString()
                }
            ];
            
            localStorage.setItem('form5266_operation', JSON.stringify(operationData));
            localStorage.setItem('form5266_contacts', JSON.stringify(contacts));
            localStorage.setItem('form5266_feeding', JSON.stringify(feedingData));
            
            document.getElementById('output').innerHTML = `
                <div class="info" style="background-color: #d4edda; color: #155724;">
                    <h3>‚úÖ Florida Operation Setup Complete!</h3>
                    <p>Created operation: ${operationData.drNumber}</p>
                    <p>Region: ${operationData.region}</p>
                    <p>Counties: ${operationData.counties.join(', ')}</p>
                    <p>Total Meals: 4000, Total Snacks: 5500</p>
                    <p><a href="index.html">Go to Main Application ‚Üí</a></p>
                </div>
            `;
        }
        
        function setupArizonaOperation() {
            const operationData = {
                drNumber: "DR-2024-AZ-001",
                operationName: "Wildfire Response - Arizona",
                startDate: "2024-01-10",
                region: "Arizona and New Mexico Region",
                counties: ["Mohave County, AZ", "Navajo County, AZ", "Pima County, AZ", "Pinal County, AZ", "Otero County, NM"],
                chapters: ["ARC of Central and Northern Arizona", "ARC of New Mexico", "ARC of Southern AZ"],
                timestamp: new Date().toISOString()
            };
            
            const contacts = [
                {
                    role: "DRO Director",
                    name: "Robert Johnson",
                    phone: "(602) 555-0200",
                    email: "robert.johnson@redcross.org",
                    id: Date.now()
                },
                {
                    role: "Planning Chief",
                    name: "Maria Garcia",
                    phone: "(602) 555-0201",
                    email: "maria.garcia@redcross.org",
                    id: Date.now() + 1
                }
            ];
            
            const feedingData = [
                {
                    date: "2024-01-10",
                    location: "Phoenix Evacuation Center",
                    meals: 800,
                    snacks: 1200,
                    notes: "Initial evacuation support",
                    timestamp: new Date().toISOString()
                },
                {
                    date: "2024-01-11",
                    location: "Tucson Shelter",
                    meals: 600,
                    snacks: 900,
                    notes: "Secondary shelter opened",
                    timestamp: new Date().toISOString()
                }
            ];
            
            localStorage.setItem('form5266_operation', JSON.stringify(operationData));
            localStorage.setItem('form5266_contacts', JSON.stringify(contacts));
            localStorage.setItem('form5266_feeding', JSON.stringify(feedingData));
            
            document.getElementById('output').innerHTML = `
                <div class="info" style="background-color: #d4edda; color: #155724;">
                    <h3>‚úÖ Arizona/New Mexico Operation Setup Complete!</h3>
                    <p>Created operation: ${operationData.drNumber}</p>
                    <p>Region: ${operationData.region}</p>
                    <p>Counties: ${operationData.counties.join(', ')}</p>
                    <p>Total Meals: 1400, Total Snacks: 2100</p>
                    <p><a href="index.html">Go to Main Application ‚Üí</a></p>
                </div>
            `;
        }
        
        function clearAllData() {
            localStorage.removeItem('form5266_operation');
            localStorage.removeItem('form5266_contacts');
            localStorage.removeItem('form5266_feeding');
            localStorage.removeItem('form5266_activity');
            localStorage.removeItem('form5266_iap');
            localStorage.removeItem('form5266_iap_current');
            
            document.getElementById('output').innerHTML = `
                <div class="info" style="background-color: #f8d7da; color: #721c24;">
                    <h3>üóëÔ∏è All Data Cleared</h3>
                    <p>All Form 5266 data has been removed from localStorage.</p>
                    <p><a href="index.html">Go to Main Application ‚Üí</a></p>
                </div>
            `;
        }
        
        function showCurrentData() {
            const operation = localStorage.getItem('form5266_operation');
            const contacts = localStorage.getItem('form5266_contacts');
            const feeding = localStorage.getItem('form5266_feeding');
            
            document.getElementById('output').innerHTML = `
                <div class="info">
                    <h3>üìä Current Data in localStorage</h3>
                    <h4>Operation Data:</h4>
                    <pre>${operation ? JSON.stringify(JSON.parse(operation), null, 2) : 'No operation data'}</pre>
                    
                    <h4>Contacts:</h4>
                    <pre>${contacts ? JSON.stringify(JSON.parse(contacts), null, 2) : 'No contacts'}</pre>
                    
                    <h4>Feeding Data:</h4>
                    <pre>${feeding ? JSON.stringify(JSON.parse(feeding), null, 2) : 'No feeding data'}</pre>
                </div>
            `;
        }
        
        // Check if allRegions is available
        window.addEventListener('load', function() {
            if (typeof allRegions !== 'undefined') {
                console.log('‚úÖ Regions data loaded successfully. Found ' + allRegions.length + ' regions.');
            } else {
                console.error('‚ùå Regions data not found!');
            }
        });
    </script>
</body>
</html>